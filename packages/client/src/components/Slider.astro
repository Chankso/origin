---
import { Image } from "astro:assets";

interface Props {
  images: ImageMetadata[];
}
const { images = [] } = Astro.props;

const keyframes = images
  .map(
    (pos, i) =>
      `${(i / images.length) * 100}% { transform: translateX(-${pos}%); }`
  )
  .join("\n");
---

<div class="Slider" data-slider>
  <div class="Slides">
    {
      images.map((image) => (
        <div 
          class="Image"
          style={`background-image: url('${image.src}')`} 
        />
      ))
    }
  </div>
</div>

<style define:vars={ keyframes }>
  @keyframes slide {
    {keyframes}
  }

 .Slider {
    position: relative;
    overflow: hidden;
    width:1920px;
    height:1080px;
  }

  .Slides {
    position:static;
    align-self:center;
    transition: transform 0.4s ease;
    animation: slide 15s;
    width:100%;
    height:100%;
  }

  .Image {
    width: 10%;
    height:10%;
  }

</style>
